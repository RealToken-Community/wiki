<!--
title: 7. Ressources et support
description: 
published: true
date: 2024-09-25T17:41:23.786Z
tags: 
editor: ckeditor
dateCreated: 2024-09-25T17:40:47.294Z
-->

<h2>7.1. Documentation technique</h2>
<h3>7.1.1. Smart Contracts v1 ⭐⭐⭐</h3>
<p>La documentation des smart contracts est essentielle pour comprendre le fonctionnement interne de la DAO RealToken. Elle comprend :</p>
<h4>Spécifications techniques des contrats principaux :</h4>
<ul>
  <li><strong>REGGovernor.sol</strong> : Contrat de gouvernance principal, ce contrat gère le processus de gouvernance, y compris la création de propositions, le vote et l'exécution.<br>Fonctions principales non standard ajoutées : <code><strong>function setProposerMode(ProposerMode proposerMode) external
      </strong></code>
    <ul>
      <li><strong>proposerMode</strong> : Le nouveau mode de proposant à définir, qui peut être l'un des suivants :<ul>
          <li><code><strong>ProposerWithRole</strong></code> : Seules les adresses avec le rôle <code><strong>PROPOSER_ROLE</strong></code> peuvent proposer.</li>
          <li><code><strong>ProposerWithVotingPower</strong></code> : Seules les adresses avec une puissance de vote suffisante peuvent proposer.</li>
          <li><code><strong>ProposerWithRoleAndVotingPower</strong></code> : Seules les adresses avec le rôle <code><strong>PROPOSER_ROLE</strong></code> et une puissance de vote suffisante peuvent proposer.</li>
          <li><code><strong>ProposerWithRoleOrVotingPower</strong></code> : Les adresses avec soit le rôle <code><strong>PROPOSER_ROLE</strong></code>, soit une puissance de vote suffisante peuvent proposer.</li>
        </ul>
      </li>
      <li><code>status</code> : Un booléen indiquant s'il faut activer (<code>true</code>) ou désactiver (<code>false</code>) le mécanisme d'incitation.</li>
      <li><code>regIncentiveVault</code> : L'adresse du nouveau contrat du coffre d'incitation REG.</li>
      <li>Le <code>ProposerMode</code> actuel.</li>
      <li><code>true</code> si le mécanisme d'incitation est activé, <code>false</code> sinon.</li>
      <li>L'adresse du contrat <code>IREGIncentiveVault</code>.</li>
      <li><code>targets</code> : Un tableau des adresses cibles pour les actions de la proposition.</li>
      <li><code>values</code> : Un tableau des valeurs ETH à envoyer avec chaque action.</li>
      <li><code>calldatas</code> : Un tableau des données d'appel pour chaque action.</li>
      <li><code>descriptionHash</code> : Le hachage keccak256 de la description de la proposition.</li>
      <li>L'ID de la proposition annulée.</li>
    </ul>
  </li>
  <li><strong>REGTreasuryDAO.sol</strong> : Gestion de la trésorerie de la DAO, ce contrat gère les fonds de la DAO et exécute les transactions approuvées après un délai de timelock de sécurité.<br>Il n'y a pas de fonction principale non standard ajouté.<br>&nbsp;</li>
  <li><strong>REGIncentiveVault.sol</strong> : Système d'incitation et de récompenses, ce contrat gère le calcul et la distribution des récompenses aux participants de la DAO si activé par la DAO.<br>Contrat entièrement créé par RealT, les fonctions principales sont : <code><strong>function setNewEpoch(
        &nbsp; &nbsp;uint256 subscriptionStart,
        &nbsp; &nbsp;uint256 subscriptionEnd,
        &nbsp; &nbsp;uint256 lockPeriodEnd,
        &nbsp; &nbsp;address bonusToken,
        &nbsp; &nbsp;uint256 totalBonus
        ) external onlyRole(DEFAULT_ADMIN_ROLE)</strong></code>
    <ul>
      <li><code>subscriptionStart</code> : Timestamp du début de la période de souscription.</li>
      <li><code>subscriptionEnd</code> : Timestamp de la fin de la période de souscription.</li>
      <li><code>lockPeriodEnd</code> : Timestamp de la fin de la période de verrouillage.</li>
      <li><code>bonusToken</code> : Adresse du token utilisé comme récompense.</li>
      <li><code>totalBonus</code> : Montant total des tokens de bonus à distribuer pour cet epoch.</li>
      <li><code>amount</code> : Montant de tokens REG à déposer.</li>
      <li><code>amount</code> : Montant de tokens REG à déposer.</li>
      <li><code>deadline</code> : Timestamp après lequel la signature n'est plus valide.</li>
      <li><code>v, r, s</code> : Composants de la signature pour l'approbation.</li>
      <li><code>amount</code> : Montant de tokens REG à retirer.</li>
      <li><code>user</code> : Adresse de l'utilisateur qui a voté.</li>
      <li><code>proposalId</code> : Identifiant de la proposition sur laquelle l'utilisateur a voté.</li>
      <li><code>user</code> : Adresse de l'utilisateur pour lequel calculer le bonus.</li>
      <li><code>address[]</code> : Tableau des adresses des tokens de bonus.</li>
      <li><code>uint256[]</code> : Tableau des montants de bonus correspondants.</li>
      <li><code>epoch</code> : Numéro de l'epoch pour lequel obtenir les informations.</li>
      <li><code>user</code> : Adresse de l'utilisateur.</li>
      <li><code>epoch</code> : Numéro de l'epoch.</li>
      <li><code>user</code> : Adresse de l'utilisateur.</li>
    </ul>
  </li>
  <li><strong>REGIncentiveVault.sol</strong> : Système d'incitation et de récompenses, ce contrat gère le calcule et la distribution des récompenses aux participants de la DAO si activé par la DAO.<br>Contrat entièrement créé par RealT, les fonctions principales sont :<ul>
      <li>setNewEpoch(uint256 subscriptionStart, uint256 subscriptionEnd, uint256 lockPeriodEnd, address bonusToken, uint256 totalBonus) external onlyRole(DEFAULT_ADMIN_ROLE)</li>
      <li>recordVote(address user, uint256 proposalId) external onlyGovernance;</li>
      <li>calculateBonus(address user) external view returns (address[] memory, uint256[] memory)</li>
      <li>claimBonus(address user, uint256 epoch) external;<br>&nbsp;</li>
    </ul>
  </li>
  <li><strong>REGPowerVotingRegistry.sol</strong> : Enregistrement des pouvoirs de vote, ce contrat enregistre le pouvoir de vote des participants calculé off-chain par RealT selon l'algorithme défini et validé par la DAO.<br>Contrat entièrement créé par RealT, les fonctions principales sont :<ul>
      <li>registerVotingPower(VotingPower[] calldata votingPower) external override onlyRole(REGISTER_ROLE)<br>Vous noterez que pour des raisons de compatibilité avec les standards et le fonctionnement du contrat Governor, le contrat PowerVotingRegistry est basé sur le standard ERC20 avec une modification des comportements des fonctions de base comme :<ul>
          <li>transfer, transferFrom, approve, etc. sont override pour renvoyer false.</li>
          <li>_delegate est override pour renvoyer une erreur REGVotingPowerRegistryErrors.DelegateToOtherNotAllowed() si un utilisateur essaie de déléguer son vote à un autre utilisateur.<br>&nbsp;</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<h4>Guides d'interaction avec les contrats :</h4>
<ul>
  <li>Méthodes principales :<ul>
      <li><code>propose()</code> dans REGGovernor pour créer une proposition,</li>
      <li><code>castVote()</code> dans REGGovernor pour voter sur une proposition,</li>
      <li><code>queue()</code> dans REGGovernor pour mettre en file d'attente une proposition,</li>
      <li><code>execute()</code> dans REGTreasuryDAO pour exécuter une proposition approuvée.<br>&nbsp;</li>
    </ul>
  </li>
  <li>Événements importants :<ul>
      <li><code>ProposalCreated</code> émis lors de la création d'une proposition,</li>
      <li><code>VoteCast</code> émis lorsqu'un vote est enregistré,</li>
      <li><code>callExecuted()</code> émis lorsqu'une action de la proposition est exécutée.<br>&nbsp;</li>
    </ul>
  </li>
</ul>
<h4>Diagrammes d'architecture :</h4>
<p>[Insérer ici un diagramme montrant les interactions entre les contrats]<br>&nbsp;</p>
<h4>Rapports d'audit de sécurité :</h4>
<p>Il n'y a pas de rapport d'audit de sécurité pour le moment. Les contrats étant proches des versions standards et la gouvernance étant exercée avec des restrictions, il a été jugé plus pertinent de conserver les ressources pour des audits futurs de la v2. La v1 étant une version provisoire expérimentale destinée à initialiser la DAO.</p>
<p>&nbsp;</p>
<h3>7.1.2. Mécanismes de gouvernance ⭐⭐</h3>
<p>Cette section détaille les processus de gouvernance de la DAO :</p>
<ul>
  <li>Cycle de vie des propositions :<ul>
      <li>Discussion et rédaction de la proposition sur le forum de gouvernance,</li>
      <li>Création et soumission,</li>
      <li>Période de vote,</li>
      <li>Exécution et timelock.</li>
    </ul>
  </li>
  <li>Calcul du pouvoir de vote :<ul>
      <li>Formules utilisées off-chain par RealT,</li>
      <li>Facteurs influençant le pouvoir de vote (verrouillage, durée de détention).</li>
    </ul>
  </li>
</ul>
<p>Système d'incitation :</p>
<ul>
  <li>Mécanisme de distribution des récompenses</li>
  <li>Calcul des bonus basé sur la participation aux votes et verrouillage des REG</li>
</ul>
<p>&nbsp;</p>
<h3>7.1.3. Interfaces utilisateur ⭐</h3>
<p>Les interactions se font principalement avec les interfaces suivantes :</p>
<ul>
  <li>Discussions de Gouvernance (URL):<ul>
      <li>Forum de gouvernance,</li>
      <li>Géré et hébergé par la communauté,</li>
      <li>Permet de discuter des idées, définir l'intérêt, les priorités, et de préparer les propositions.</li>
    </ul>
  </li>
  <li>Interface de vote (<a href="https://www.tally.xyz/gov/realtoken-ecosystem-governance">URL</a>):<ul>
      <li>Utilisation de la plateforme Tally comme interface de vote,</li>
      <li>Accès aux fonctions principales de vote, visualisation, résultat, vote, création de proposition, statut des propositions,</li>
      <li>L'usage de Tally permet de gagner plusieurs mois de développement,</li>
      <li>Implique quelques contraintes dans le fonctionnement et les informations affichées.</li>
    </ul>
  </li>
  <li>Interface d'incentive (<a href="https://vote.realtoken.network">URL</a>):<ul>
      <li>Interface dédiée créée par RealT,</li>
      <li>Permet de déposer des REG, retirer des REG, réclamer des récompenses.</li>
    </ul>
  </li>
</ul>
<p>&nbsp;</p>
<h2>7.2. Canaux de communication</h2>
<h3>7.2.1. Canaux officiels ⭐</h3>
<ul>
  <li>Site web officiel : …</li>
  <li>Twitter : @RealTokenDAO</li>
</ul>
<p>&nbsp;</p>
<h3>7.2.2. Ressources pour les développeurs ⭐⭐⭐</h3>
<ul>
  <li>GitHub : Dépôt des smart contracts → <a href="https://github.com/real-token/reg-governance-core">Governance, incentive, treasury</a></li>
  <li>GitHub : interfaces incentive → <a href="https://github.com/real-token/voting-front/tree/incentive">https://github.com/real-token/voting-front/tree/incentive</a></li>
</ul>
<p>&nbsp;</p>
<h2>7.3. FAQ</h2>
<h3>7.3.1. Bases de la DAO ⭐</h3>
<p>Q : Qu'est-ce que le REG et comment l'obtenir ?<br>R : Le REG (RealToken Ecosystem Governance) est le token de gouvernance de la DAO RealToken. Il peut être obtenu en participant à certaines activités de l'écosystème RealToken : en achetant des RealTokens sur <a href="http://realt.co">realt.co</a> ou en l'achetant sur des échanges décentralisés comme 1inch sur Gnosis Chain.</p>
<p>Q : Comment participer aux votes de la DAO ?<br>R : Pour participer aux votes, vous devez détenir des tokens REG au moment du snapshot, ils peuvent être dans : votre portefeuille, pool de liquidité, vault de verrouillage, etc. Connectez-vous à l'interface de gouvernance avec le portefeuille contenant des REG au moment du snapshot, puis vous pourrez voter sur les propositions actives utilisant le snapshot.</p>
<p>Q : Comment puis-je gagner des bonus ?<br>R : Vous pouvez gagner des bonus en participant aux votes de la DAO durant les périodes pour lesquelles la DAO a activé le mécanisme d'incitation. Il vous faut aussi verrouiller des REG dans le vault et voter au maximum de propositions durant la période pour maximiser vos gains.</p>
<p>Q : Qui peut proposer des idées ?<br>R : Tout le monde peut proposer des idées. Il faut pour cela être actif dans la communauté, créer un sujet sur le forum de gouvernance, et obtenir suffisamment de soutien pour déclencher le processus de création des propositions.</p>
<p>Q : Qui peut créer des propositions ?<br>R : Seules les personnes ayant le rôle Proposer peuvent créer des propositions dans la première phase de la v1. Cette restriction permet de s'assurer que les propositions sont de qualité, réfléchies, et d'éviter les attaques de gouvernance.</p>
<p>Q : Quels sont les sujets sur lesquels la DAO peut voter ?<br>R : La DAO peut voter sur les sujets liés à l'écosystème RealToken. Dans un premier temps, les sujets sont limités à la méthodologie de fonctionnement de la gouvernance et les périodes d'incitation. Pour d'autres sujets, il faudra déterminer si les ressources et les priorités sont d'actualité pour la DAO. Pour cela, ouvrez un sujet sur le forum de gouvernance et obtenez suffisamment de soutien pour déclencher le processus de création de propositions.</p>
<p>Q : Qui développe les applications et nouvelles fonctionnalités pour la DAO ?<br>R : RealT est le prestataire principal pour la DAO. Il développe les applications, les nouvelles fonctionnalités, et s'occupe de l'écosystème RealToken sous mandat de la DAO. D'autres prestataires pourront fournir des services à la DAO sous réserve d’acceptation de la DAO.</p>
<p>Q : La DAO peut-elle dépenser tous les fonds de la trésorerie ?<br>R : En principe oui, la DAO a le contrôle total des fonds de la trésorerie. Toutefois, des dépenses inadaptées pourraient avoir des conséquences importantes sur l'avenir de la DAO, la valeur des REG, et la continuité des DApps. Il en va donc de la responsabilité des membres de la DAO d'avoir des réflexions approfondies avant de voter les dépenses et de planifier les priorités pour que la DAO puisse perdurer dans le temps et distribuer une part de ses revenus tout comme une entreprise qui distribue des dividendes.</p>
<p>&nbsp;</p>
<h3>7.3.2. Mécanismes avancés ⭐⭐</h3>
<p>Q : Comment fonctionne le mécanisme de verrouillage des REG ?<br>R : Dans la v1, le verrouillage est une condition pour pouvoir obtenir des bonus avec la participation aux votes. Chaque session (epoch) est activée et définie par la DAO. Il y a une première phase de souscription durant laquelle vous pouvez déposer et retirer vos REG, suivie d'une période de verrouillage durant laquelle vous ne pouvez plus retirer les REG et devez voter. Au terme de la période de verrouillage, les REG sont libérés et vous pouvez les retirer ou les laisser dans le vault. Ils seront automatiquement verrouillés pour la prochaine session.</p>
<p>Q : Comment sont choisies les adresses autorisées à créer des propositions ?<br>R : Durant les premières semaines de fonctionnement de la v1, les adresses autorisées seront uniquement des adresses de RealT, le temps que la communauté s'organise pour élire des personnes de confiance au sein de la communauté pour devenir Proposer.</p>
<p>Q : Quel est le rôle des Proposers ?<br>R : Les Proposers sont des personnes de confiance au sein de la communauté qui ont pour rôle de s'assurer que les propositions soumises sur le forum de gouvernance sont de qualité, pertinentes, et réfléchies, qu'elles respectent la méthodologie définie par la DAO pour la création de propositions. Ils peuvent également être sollicités pour des tâches spécifiques liées à la gouvernance et doivent créer les propositions on-chain.</p>
<p>Q : La DAO peut-elle forcer un changement sans le consentement de RealT ?<br>R : Les propositions soutenues par une majorité importante de la DAO peuvent être forcées. Toutefois, à l'heure actuelle, la DAO ne possède concrètement les DApps créées par RealT pour la future DAO. Il devra donc y avoir une reprise formelle de la responsabilité de la DApp ou des DApps par la DAO pouvant entraîner un paiement à RealT pour la prestation fournie.</p>
<p>Q : Quelles sont les DApps sur lesquelles la DAO peut agir ?<br>R : À l'heure actuelle, les DApps sur lesquelles la DAO peut agir sont : les contrats de gouvernance, le vault de verrouillage des REG, le contrat de treasury DAO. D'autres DApps s'ajouteront progressivement, et les nouveaux contrats développés par RealT, financés par la DAO, seront directement sous le contrôle et la responsabilité de la DAO.</p>
<p>Q : Pourquoi la DAO n'a pas un contrôle total des DApps développées par RealT jusqu'à présent ?<br>R : La DAO doit en premier lieu s'organiser, définir des processus, gagner en maturité, et acquérir des experts qui pourront exercer les rôles de contrôle et de gestion des DApps. Le contrôle d'une DApp demande une expertise et une compréhension du fonctionnement des smart contracts et de la blockchain. C'est pourquoi, en tant que prestataire, RealT assume pour la DAO jusqu'à présent la responsabilité de ces DApps afin de garantir la continuité et la stabilité nécessaires pour durer dans le temps.</p>
<p>&nbsp;</p>
<h3>7.3.3. Aspects techniques ⭐⭐⭐</h3>
<p>Q : Pourquoi ne pas utiliser le REG comme token de gouvernance mais utiliser le <code>PowerVotingRegistry</code> ?<br>R : Le REG est un token utilisé pour le calcul du power voting. Les pouvoirs de vote sont calculés off-chain par RealT et enregistrés sur le <code>PowerVotingRegistry</code>. Cette approche permet de ne pas pénaliser les participants aux pools de liquidité ou autres services qui utilisent des REG. Ainsi, le REG peut avoir plusieurs cas d'usage, en plus du vote, sans pénaliser le pouvoir de vote. De plus, la DAO peut modifier les mécanismes de calcul du power voting en changeant l'algorithme off-chain, sans avoir à modifier le REG ou autre smart contract, ce qui lui permet d'accorder un boost de vote en fonction de ses objectifs. Par exemple : pour soutenir l'apport de liquidité sur un ou plusieurs DEX, la DAO peut décider de compter les REG verrouillés dans le pool ainsi que la liquidité déposée en contrepartie comme des REG supplémentaires, voire même d'accorder plus de pouvoir de vote pour un REG déposé dans un pool de liquidité. La DAO pourrait aussi décider que les REG sur les wallets, qui ne bénéficient donc pas à l'écosystème, pourraient valoir moins d'une unité de pouvoir de vote. Par exemple, un REG sur un wallet pourrait donner 0,5 de pouvoir de vote, contre 1 REG dans un pool de liquidité qui pourrait donner 1,2 de pouvoir de vote.</p>
<p>Q : Pourquoi avoir désactivé le mécanisme de délégation ?<br>R : Le mécanisme de délégation a été désactivé pour des raisons de simplification de la mise en place de la v1 et pour inciter le plus de participation à l'élaboration des bases de la gouvernance. De plus, avec la mécanique d'incentive et les faibles revenus de la DAO actuellement, il aurait été contre-productif de distribuer des récompenses sans une contrepartie des holders de REG envers la DAO.<br>&nbsp;</p>
